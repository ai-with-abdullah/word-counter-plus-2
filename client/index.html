<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-59QPJVR6');</script>
    <!-- End Google Tag Manager -->

    <!-- Ahrefs Analytics -->
    <script src="https://analytics.ahrefs.com/analytics.js" data-key="oksNA9EicwO7ZO5O+JBaDQ" async></script>
    <!-- End Ahrefs Analytics -->
    
    <!-- SSR SEO Meta Tags - Replaced server-side -->
    <!--ssr-head-->
    
    <!-- Additional SEO Tags -->
    <meta name="theme-color" content="#2563eb" />
    <meta name="msapplication-TileColor" content="#2563eb" />
    <meta name="application-name" content="Word Counter Plus" />
    <meta name="apple-mobile-web-app-title" content="Word Counter Plus" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="mobile-web-app-capable" content="yes" />
    
    <!-- Enhanced SEO for Google Ranking -->
    <meta name="google" content="notranslate" />
    <meta name="googlebot" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />
    <meta name="bingbot" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />
    <meta name="msvalidate.01" content="981AA47D2A186B44BFD2BB4E0E5BFAC7" />
    <meta name="rating" content="general" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="alternate" hreflang="en" href="https://wordcounterplusapp.com/" />
    <link rel="alternate" hreflang="x-default" href="https://wordcounterplusapp.com/" />
    
    <!-- Favicon and Icons with Preload -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="preload" href="/apple-touch-icon.png" as="image" type="image/png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/manifest.json" />
    
    <!-- Critical font loading with swap and performance optimization -->
    <style>
      /* Critical CSS - Inline font loading and essential styles to prevent render blocking */
      @font-face {
        font-family: 'Poppins';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url('https://fonts.gstatic.com/s/poppins/v20/pxiEyp8kv8JHgFVrJJfecg.woff2') format('woff2');
      }
      @font-face {
        font-family: 'Poppins';
        font-style: normal;
        font-weight: 500;
        font-display: swap;
        src: url('https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLGT9Z1xlFd2JQEk.woff2') format('woff2');
      }
      @font-face {
        font-family: 'Poppins';
        font-style: normal;
        font-weight: 600;
        font-display: swap;
        src: url('https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLEj6Z1xlFd2JQEk.woff2') format('woff2');
      }
      
      /* Critical CSS Variables - Essential theme colors */
      :root {
        --primary: hsl(348, 83%, 47%);
        --background: hsl(0, 0%, 96%);
        --foreground: hsl(0, 0%, 10%);
        --muted-foreground: hsl(0, 0%, 40%);
        --card: hsl(0, 0%, 100%);
        --border: hsl(0, 0%, 90%);
        --radius: 0.8rem;
        font-synthesis: none;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      
      .dark {
        --background: hsl(0, 0%, 8%);
        --foreground: hsl(0, 0%, 95%);
        --card: hsl(0, 0%, 12%);
        --border: hsl(0, 0%, 20%);
        --muted-foreground: hsl(0, 0%, 60%);
      }
      
      /* Essential base styles */
      * { 
        box-sizing: border-box;
      }
      
      html {
        overflow-y: scroll;
      }
      
      body { 
        font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; 
        margin: 0;
        background-color: var(--background);
        color: var(--foreground);
        transition: none;
        contain: layout style paint;
      }
      
      /* Prevent CLS by ensuring images and iframes have dimensions */
      img, iframe, video {
        max-width: 100%;
        height: auto;
      }
      
      /* Reserve aspect ratio space for images without dimensions */
      img:not([width]):not([height]) {
        aspect-ratio: 16/9;
      }
      
      /* Optimize first paint */
      #root {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }
      
      /* Critical layout styles for above-the-fold content */
      .min-h-screen { min-height: 100vh; }
      .flex { display: flex; }
      .flex-col { flex-direction: column; }
      .items-center { align-items: center; }
      .justify-center { justify-content: center; }
      .text-center { text-align: center; }
      .hidden { display: none; }
      
      /* Above-the-fold critical styles */
      .container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 1rem; }
      .bg-background { background-color: var(--background); }
      .text-foreground { color: var(--foreground); }
      .bg-card { background-color: var(--card); }
      .border-border { border-color: var(--border); }
      .rounded-lg { border-radius: var(--radius); }
      .shadow-sm { box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05); }
      .p-4 { padding: 1rem; }
      .mb-4 { margin-bottom: 1rem; }
      .font-bold { font-weight: 700; }
      .text-xl { font-size: 1.25rem; line-height: 1.75rem; }
      .text-2xl { font-size: 1.5rem; line-height: 2rem; }
      .text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
      .min-h-screen { min-height: 100vh; }
      
      /* Prevent layout shift */
      main { min-height: 600px; }
      section { contain: layout; }
    </style>
    
    
    <!-- DNS Prefetch and Preconnect for External Resources - Performance Optimization -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="//fonts.googleapis.com" />
    <link rel="dns-prefetch" href="//www.googletagmanager.com" />
    <link rel="dns-prefetch" href="//pagead2.googlesyndication.com" />
    
    <!-- Preload critical fonts for instant rendering -->
    <link rel="preload" href="https://fonts.gstatic.com/s/poppins/v20/pxiEyp8kv8JHgFVrJJfecg.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLGT9Z1xlFd2JQEk.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLEj6Z1xlFd2JQEk.woff2" as="font" type="font/woff2" crossorigin>
    
    <!-- Vite will automatically inject the correct script and style tags during build -->
    
    <!-- Google Analytics - deferred for better performance -->
    <script>
      let analyticsLoaded = false;
      function loadAnalytics() {
        if (analyticsLoaded) return;
        analyticsLoaded = true;
        
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-NF8M6HRHGY');
        
        const gtagScript = document.createElement('script');
        gtagScript.async = true;
        gtagScript.src = 'https://www.googletagmanager.com/gtag/js?id=G-NF8M6HRHGY';
        document.head.appendChild(gtagScript);
      }
      
      const events = ['click', 'scroll', 'touchstart', 'keydown'];
      events.forEach(event => {
        document.addEventListener(event, loadAnalytics, { once: true, passive: true });
      });
      
      setTimeout(loadAnalytics, 15000);
    </script>

     
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-59QPJVR6"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <div id="root"><!--ssr-outlet--></div>
    <script type="module" src="/src/entry-client.tsx"></script>
    
    <!-- Performance optimizations and monitoring -->
    <script>
      // Performance monitoring - track Core Web Vitals
      (function() {
        // Track Largest Contentful Paint (LCP)
        new PerformanceObserver((list) => {
          const entries = list.getEntries();
          const lastEntry = entries[entries.length - 1];
          console.log('LCP:', lastEntry.renderTime || lastEntry.loadTime);
        }).observe({type: 'largest-contentful-paint', buffered: true});

        // Track First Input Delay (FID) / Interaction to Next Paint (INP)
        new PerformanceObserver((list) => {
          list.getEntries().forEach((entry) => {
            console.log('INP:', entry.processingStart - entry.startTime);
          });
        }).observe({type: 'first-input', buffered: true});

        // Track Cumulative Layout Shift (CLS)
        let clsScore = 0;
        new PerformanceObserver((list) => {
          list.getEntries().forEach((entry) => {
            if (!entry.hadRecentInput) {
              clsScore += entry.value;
              console.log('CLS:', clsScore);
            }
          });
        }).observe({type: 'layout-shift', buffered: true});
      })();

      // Cleanup handled by main.tsx for faster response
    </script>
    <!-- This is a replit script which adds a banner on the top of the page when opened in development mode outside the replit environment -->
    <!-- <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script> -->
  </body>
</html>